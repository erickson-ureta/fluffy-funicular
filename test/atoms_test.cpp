#include "gtest/gtest.h"
#include "../src/atoms/atoms.hpp"

TEST(AtomsTest, TestFtypBox)
{
    const size_t ftypSize = 32;
    std::vector<uint8_t> ftypBuf = {
        0x00, 0x00, 0x00, 0x20, 0x66, 0x74, 0x79, 0x70, 0x69, 0x73, 0x6f, 0x6d,
        0x00, 0x00, 0x02, 0x00, 0x69, 0x73, 0x6f, 0x6d, 0x69, 0x73, 0x6f, 0x32,
        0x61, 0x76, 0x63, 0x31, 0x6d, 0x70, 0x34, 0x31,
    };

    std::unique_ptr<GenericAtom> ftyp = std::make_unique<FtypAtom>(ftypSize, ftypBuf.data());
    ASSERT_EQ(ftyp->getAtomName(), ATOM_FTYP);
    ASSERT_EQ(ftyp->getSize(), ftypSize);
}
